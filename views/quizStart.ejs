<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/quizStart.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/header.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
    <nav>
        <ul>
          <li><a href="/">Home </a></li>
          <li><a href="/easy/gk">General Knowledge</a></li>
          <li><a href="/easy/films">Films </a></li>
          <li><a href="/easy/books">Books and Novels</a></li>
          <li><a href="/easy/history">History</a></li>
          <li>
            <a href="#">
              <i class="fa fa-bars"></i>
            </a>
          </li>
          <input type="search" />
        </ul>
      </nav>
      
    <div class="container">
        <div class="question">
            <%= questions %>
        </div>
        <div class="options">
            <div>
                <button class="button button-2 button-2g" id="<%= options[0] %>">
                    A. <%= options[0] %>
                </button>
                <button class="button button-2 button-2g" id="<%= options[1] %>">
                    B. <%= options[1] %>
                </button>
            </div>
            <div>
                <button class="button button-2 button-2g" id="<%= options[2] %>">
                    C. <%= options[2] %>
                </button>
                <button class="button button-2 button-2g" id="<%= options[3] %>">
                    D. <%= options[3] %>
                </button>
            </div>
        </div>
        <div class="buttonContainer">
            <button class="button button-2 button-2d" onclick="checkAnswer()">Check</button>
            <button class="button button-2 button-2d"><a href="/easy/<%= subject %>/<%= next %>">Skip</a></button>
            <button class="button button-2 button-2d"><a href="/easy/<%= subject %>/<%= next %>">Proceed</a></button>
        </div>
    </div>
</body>
<script>
    let answer='';
    document.getElementById("<%= options[0]%>").addEventListener("click",()=>selectedAnswer("<%= options[0]%>"))
    document.getElementById("<%= options[1]%>").addEventListener("click",()=>selectedAnswer("<%= options[1]%>"))
    document.getElementById("<%= options[2]%>").addEventListener("click",()=>selectedAnswer("<%= options[2]%>"))
    document.getElementById("<%= options[3]%>").addEventListener("click",()=>selectedAnswer("<%= options[3]%>"))
    
    function checkAnswer(){
        console.log("checking")
        if(answer === "<%= correctAnswer %>"){

        }
        document.getElementById("<%= correctAnswer %>").style.backgroundColor='greenyellow';
        removeListeners();
    }

    function selectedAnswer(givenAnswer){
        console.log("Remopve")
        answer=givenAnswer;
        removeClasses();
        document.getElementById(givenAnswer).style.backgroundColor='darkkhaki';
    }

    function removeListeners(){
        document.getElementById("<%= options[0]%>").disabled=true;
        document.getElementById("<%= options[1]%>").disabled=true;
        document.getElementById("<%= options[2]%>").disabled=true;
        document.getElementById("<%= options[3]%>").disabled=true;
    }

    function removeClasses(){
        document.getElementById("<%= options[0]%>").style.backgroundColor='#161872';
        document.getElementById("<%= options[1]%>").style.backgroundColor='#161872';
        document.getElementById("<%= options[2]%>").style.backgroundColor='#161872';
        document.getElementById("<%= options[3]%>").style.backgroundColor='#161872';
    }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
        $(function() {
  var ulLi = $('nav ul > li'),
      fa = $('nav ul > li:last-of-type a .fa');
  
   $('nav ul').append('<ol></ol>');
  
   $('nav').each(function() {
     for (var i=0; i <= ulLi.length - 3; i++) {
       $('nav ul > ol').append("<li>"+ i +"</li>");
       $('nav ul > ol > li').eq(i).html(ulLi.eq(i+1).html());
     }
  });

  $('nav ul > li:last-of-type').on('click', function() {
    fa.toggleClass('fa-bars');
    fa.toggleClass('fa-times');
    $(this).parent().children('ol').slideToggle(500);
  });
});

// Em An
// 10/10/2016
// https://codepen.io/anon/pen/qaoxyA  
// https://codepen.io/Em-An/pen/LRdjwp
    </script>

</html>